<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>枚举</title><link rel="preload" href="/comparison-note/_next/static/css/dc4eece8d63e31b4b040.css" as="style"/><link rel="stylesheet" href="/comparison-note/_next/static/css/dc4eece8d63e31b4b040.css" data-n-g=""/><link rel="preload" href="/comparison-note/_next/static/css/05437c60348a21355b6c.css" as="style"/><link rel="stylesheet" href="/comparison-note/_next/static/css/05437c60348a21355b6c.css" data-n-g=""/><noscript data-n-css="true"></noscript><link rel="preload" href="/comparison-note/_next/static/chunks/main-14614ae8e939b9e5961e.js" as="script"/><link rel="preload" href="/comparison-note/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" as="script"/><link rel="preload" href="/comparison-note/_next/static/chunks/framework.c7b20b4e446c7cca89e7.js" as="script"/><link rel="preload" href="/comparison-note/_next/static/chunks/7945cc82.ff5578978733a40a67a3.js" as="script"/><link rel="preload" href="/comparison-note/_next/static/chunks/commons.a32a113e095d8f0b1079.js" as="script"/><link rel="preload" href="/comparison-note/_next/static/chunks/pages/_app-1832d2b05f1f19d6a06d.js" as="script"/><link rel="preload" href="/comparison-note/_next/static/chunks/a1bc03cf.64f9f8493143216945e6.js" as="script"/><link rel="preload" href="/comparison-note/_next/static/chunks/4d6c67b811e74d3ca6630b1db854b02fef4ff3ce.8a4303f940dd12850a8f.js" as="script"/><link rel="preload" href="/comparison-note/_next/static/chunks/pages/%5B...param%5D-ec17b069b047a5ce78c3.js" as="script"/></head><body><div id="__next"><nav class="navbar navbar-expand-lg navbar-light bg-light"><a href="/comparison-note/" class="navbar-brand">对比学习笔记</a><button aria-controls="basic-navbar-nav" type="button" aria-label="Toggle navigation" class="navbar-toggler collapsed"><span class="navbar-toggler-icon"></span></button><div class="navbar-collapse collapse" id="basic-navbar-nav"><div class="mr-auto navbar-nav"><a href="/comparison-note/algorithm" data-rb-event-key="/algorithm" class="nav-link">数据结构和算法</a><a href="/comparison-note/basic-concept" data-rb-event-key="/basic-concept" class="nav-link">基础概念</a><a href="/comparison-note/data-type" data-rb-event-key="/data-type" class="nav-link">数据类型</a><a href="/comparison-note/special" data-rb-event-key="/special" class="nav-link">专题</a></div></div></nav><div style="padding-top:12px;padding-bottom:12px" class="container-fluid"><h1>枚举</h1><div style="margin-bottom:12px"><div class="markdown-body"></div></div><div style="margin-bottom:12px" class="justify-content-md-center row"><div class="col-md-auto"><div role="toolbar" class="btn-toolbar"><div role="group" class="btn-group btn-group-sm btn-group-toggle"><label class="btn btn-secondary"><input type="checkbox" value="c" autoComplete="off"/>c</label><label class="btn btn-secondary"><input type="checkbox" value="rust" autoComplete="off"/>rust</label></div></div></div></div><div class="card-group"></div></div><div style="text-align:center;padding:12px 0;font-size:14px">v<!-- -->0.1.0<!-- --> <a href="https://github.com/fishjar/comparison-note" title="访问github源码">github</a></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"nav":{"name":"emum","fullPath":"/data-type/emum","asPath":"/data-type/emum","id":"%2Fdata-type%2Femum","parent":{"name":"data-type","fullPath":"/data-type","asPath":"/data-type","id":"%2Fdata-type","readme":{"title":"数据类型","fullPath":"/data-type/README.md"}},"readme":{"title":"枚举","fullPath":"/data-type/emum/README.md"},"cards":[{"name":"c.md","baseName":"c","extName":".md","fullPath":"/data-type/emum/c.md"},{"name":"rust.md","baseName":"rust","extName":".md","fullPath":"/data-type/emum/rust.md"}],"nodes":[]},"content":"","cards":[{"name":"c.md","baseName":"c","extName":".md","fullPath":"/data-type/emum/c.md","content":"```c++\nenum colors {RED, GREEN, BLUE};\n\nprintf(\"%d\\n\", RED); // 0\nprintf(\"%d\\n\", GREEN);  // 1\nprintf(\"%d\\n\", BLUE);  // 2\n\nenum colors color;\ncolor = BLUE;\nprintf(\"%i\\n\", color); // 2\n\n// typedef 命令可以为 Enum 类型起别名\ntypedef enum {\n  SHEEP,\n  WHEAT,\n  WOOD,\n  BRICK,\n  ORE\n} RESOURCE;\nRESOURCE r;\n\n// 声明 Enum 类型时，在同一行里面为变量赋值\nenum {\n  SHEEP,\n  WHEAT,\n  WOOD,\n  BRICK,\n  ORE\n} r = BRICK, s = WOOD;\n\n\nenum { ONE, TWO };\nprintf(\"%d %d\", ONE, TWO);  // 0 1\n\nenum { ONE = 1, TWO = 2 };\nprintf(\"%d %d\", ONE, TWO);  // 1 2\n\nenum { X = 2, Y = 18, Z = -2 };\n\nenum {\n  A,    // 0\n  B,    // 1\n  C = 4,  // 4\n  D,    // 5\n  E,    // 6\n  F = 3,   // 3\n  G,    // 4\n  H     // 5\n};\n```\n"},{"name":"rust.md","baseName":"rust","extName":".md","fullPath":"/data-type/emum/rust.md","content":"```rust\n// 该属性用于隐藏对未使用代码的警告。\n#![allow(dead_code)]\n\n// 创建一个 `enum`（枚举）来对 web 事件分类。注意变量名和类型共同指定了 `enum`\n// 取值的种类：`PageLoad` 不等于 `PageUnload`，`KeyPress(char)` 不等于\n// `Paste(String)`。各个取值不同，互相独立。\nenum WebEvent {\n    // 一个 `enum` 可以是单元结构体（称为 `unit-like` 或 `unit`），\n    PageLoad,\n    PageUnload,\n    // 或者一个元组结构体，\n    KeyPress(char),\n    Paste(String),\n    // 或者一个普通的结构体。\n    Click { x: i64, y: i64 }\n}\n\n// 此函数将一个 `WebEvent` enum 作为参数，无返回值。\nfn inspect(event: WebEvent) {\n    match event {\n        WebEvent::PageLoad =\u003e println!(\"page loaded\"),\n        WebEvent::PageUnload =\u003e println!(\"page unloaded\"),\n        // 从 `enum` 里解构出 `c`。\n        WebEvent::KeyPress(c) =\u003e println!(\"pressed '{}'.\", c),\n        WebEvent::Paste(s) =\u003e println!(\"pasted \\\"{}\\\".\", s),\n        // 把 `Click` 解构给 `x` and `y`。\n        WebEvent::Click { x, y } =\u003e {\n            println!(\"clicked at x={}, y={}.\", x, y);\n        },\n    }\n}\n\nfn main() {\n    let pressed = WebEvent::KeyPress('x');\n    // `to_owned()` 从一个字符串切片中创建一个具有所有权的 `String`。\n    let pasted  = WebEvent::Paste(\"my text\".to_owned());\n    let click   = WebEvent::Click { x: 20, y: 80 };\n    let load    = WebEvent::PageLoad;\n    let unload  = WebEvent::PageUnload;\n\n    inspect(pressed);\n    inspect(pasted);\n    inspect(click);\n    inspect(load);\n    inspect(unload);\n}\n// pressed 'x'.\n// pasted \"my text\".\n// clicked at x=20, y=80.\n// page loaded\n// page unloaded\n```\n\n```rust\n#![allow(unused)]\nfn main() {\n    enum IpAddrKind {\n        V4,\n        V6,\n    }\n    struct IpAddr {\n        kind: IpAddrKind,\n        address: String,\n    }\n\n    let home = IpAddr {\n        kind: IpAddrKind::V4,\n        address: String::from(\"127.0.0.1\"),\n    };\n    let loopback = IpAddr {\n        kind: IpAddrKind::V6,\n        address: String::from(\"::1\"),\n    };\n}\n```\n\n```rust\n// 用枚举替代结构体还有另一个优势：每个成员可以处理不同类型和数量的数据。\n#![allow(unused)]\nfn main() {\n    enum IpAddr {\n        V4(u8, u8, u8, u8),\n        V6(String),\n    }\n    let home = IpAddr::V4(127, 0, 0, 1);\n    let loopback = IpAddr::V6(String::from(\"::1\"));\n}\n```\n\n```rust\nenum Message {\n    Quit,\n    Move { x: i32, y: i32 },\n    Write(String),\n    ChangeColor(i32, i32, i32),\n}\n\n// 上面的枚举结构体，类似于定义了如下这些结构体\n// 不过上面是单独一个类型，下面是不同类型\nstruct QuitMessage; // 类单元结构体\nstruct MoveMessage {\n    x: i32,\n    y: i32,\n}\nstruct WriteMessage(String); // 元组结构体\nstruct ChangeColorMessage(i32, i32, i32); // 元组结构体\n```\n\n## C 风格用法\n\n```rust\n// 该属性用于隐藏对未使用代码的警告。\n#![allow(dead_code)]\n\n// 拥有隐式辨别值（implicit discriminator，从 0 开始）的 enum\nenum Number {\n    Zero,\n    One,\n    Two,\n}\n\n// 拥有显式辨别值（explicit discriminator）的 enum\nenum Color {\n    Red = 0xff0000,\n    Green = 0x00ff00,\n    Blue = 0x0000ff,\n}\n\nfn main() {\n    // `enum` 可以转成整型。\n    println!(\"zero is {}\", Number::Zero as i32);\n    println!(\"one is {}\", Number::One as i32);\n\n    println!(\"roses are #{:06x}\", Color::Red as i32);\n    println!(\"violets are #{:06x}\", Color::Blue as i32);\n}\n```\n\n## 模式匹配\n\n```rust\n#[derive(Debug)]\nenum UsState {\n    Alabama,\n    Alaska,\n    // --snip--\n}\n\nenum Coin {\n    Penny,\n    Nickel,\n    Dime,\n    Quarter(UsState),\n}\n\nfn value_in_cents(coin: Coin) -\u003e u8 {\n    match coin {\n        Coin::Penny =\u003e 1,\n        Coin::Nickel =\u003e 5,\n        Coin::Dime =\u003e 10,\n        Coin::Quarter(state) =\u003e {\n            println!(\"State quarter from {:?}!\", state);\n            25\n        }\n    }\n}\n\nfn main() {\n    value_in_cents(Coin::Quarter(UsState::Alaska));\n}\n```\n\n## 匹配 `Option\u003cT\u003e`\n\n```rust\nfn main() {\n    fn plus_one(x: Option\u003ci32\u003e) -\u003e Option\u003ci32\u003e {\n        match x {\n            None =\u003e None,\n            Some(i) =\u003e Some(i + 1),\n        }\n    }\n\n    let five = Some(5);\n    let six = plus_one(five);\n    let none = plus_one(None);\n}\n```\n\n```rust\nfn main() {\n    let dice_roll = 9;\n    match dice_roll {\n        3 =\u003e add_fancy_hat(),\n        7 =\u003e remove_fancy_hat(),\n        _ =\u003e (),\n    }\n\n    fn add_fancy_hat() {}\n    fn remove_fancy_hat() {}\n}\n```\n\n## if let 简单控制流\n\n```rust\nlet some_u8_value = Some(0u8);\nmatch some_u8_value {\n    Some(3) =\u003e println!(\"three\"),\n    _ =\u003e (),\n}\n// 等价\nlet some_u8_value = Some(0u8);\nif let Some(3) = some_u8_value {\n    println!(\"three\");\n}\n```\n"}]}},"page":"/[...param]","query":{"param":["data-type","emum"]},"buildId":"S-jJrz2DKYE9I2Mqo2Xou","assetPrefix":"/comparison-note","nextExport":true,"isFallback":false,"gip":true,"head":[["meta",{"name":"viewport","content":"width=device-width"}],["meta",{"charSet":"utf-8"}],["title",{"children":"枚举"}]]}</script><script nomodule="" src="/comparison-note/_next/static/chunks/polyfills-7258ef49cf482e03ae9c.js"></script><script src="/comparison-note/_next/static/chunks/main-14614ae8e939b9e5961e.js" async=""></script><script src="/comparison-note/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" async=""></script><script src="/comparison-note/_next/static/chunks/framework.c7b20b4e446c7cca89e7.js" async=""></script><script src="/comparison-note/_next/static/chunks/7945cc82.ff5578978733a40a67a3.js" async=""></script><script src="/comparison-note/_next/static/chunks/commons.a32a113e095d8f0b1079.js" async=""></script><script src="/comparison-note/_next/static/chunks/pages/_app-1832d2b05f1f19d6a06d.js" async=""></script><script src="/comparison-note/_next/static/chunks/a1bc03cf.64f9f8493143216945e6.js" async=""></script><script src="/comparison-note/_next/static/chunks/4d6c67b811e74d3ca6630b1db854b02fef4ff3ce.8a4303f940dd12850a8f.js" async=""></script><script src="/comparison-note/_next/static/chunks/pages/%5B...param%5D-ec17b069b047a5ce78c3.js" async=""></script><script src="/comparison-note/_next/static/S-jJrz2DKYE9I2Mqo2Xou/_buildManifest.js" async=""></script><script src="/comparison-note/_next/static/S-jJrz2DKYE9I2Mqo2Xou/_ssgManifest.js" async=""></script></body></html>