<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>数据类型转换</title><link rel="preload" href="/comparison-note/_next/static/css/dc4eece8d63e31b4b040.css" as="style"/><link rel="stylesheet" href="/comparison-note/_next/static/css/dc4eece8d63e31b4b040.css" data-n-g=""/><link rel="preload" href="/comparison-note/_next/static/css/05437c60348a21355b6c.css" as="style"/><link rel="stylesheet" href="/comparison-note/_next/static/css/05437c60348a21355b6c.css" data-n-g=""/><noscript data-n-css="true"></noscript><link rel="preload" href="/comparison-note/_next/static/chunks/main-14614ae8e939b9e5961e.js" as="script"/><link rel="preload" href="/comparison-note/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" as="script"/><link rel="preload" href="/comparison-note/_next/static/chunks/framework.c7b20b4e446c7cca89e7.js" as="script"/><link rel="preload" href="/comparison-note/_next/static/chunks/7945cc82.ff5578978733a40a67a3.js" as="script"/><link rel="preload" href="/comparison-note/_next/static/chunks/commons.a32a113e095d8f0b1079.js" as="script"/><link rel="preload" href="/comparison-note/_next/static/chunks/pages/_app-1832d2b05f1f19d6a06d.js" as="script"/><link rel="preload" href="/comparison-note/_next/static/chunks/a1bc03cf.64f9f8493143216945e6.js" as="script"/><link rel="preload" href="/comparison-note/_next/static/chunks/4d6c67b811e74d3ca6630b1db854b02fef4ff3ce.8a4303f940dd12850a8f.js" as="script"/><link rel="preload" href="/comparison-note/_next/static/chunks/pages/%5B...param%5D-ec17b069b047a5ce78c3.js" as="script"/></head><body><div id="__next"><nav class="navbar navbar-expand-lg navbar-light bg-light"><a href="/comparison-note/" class="navbar-brand">对比学习笔记</a><button aria-controls="basic-navbar-nav" type="button" aria-label="Toggle navigation" class="navbar-toggler collapsed"><span class="navbar-toggler-icon"></span></button><div class="navbar-collapse collapse" id="basic-navbar-nav"><div class="mr-auto navbar-nav"><a href="/comparison-note/algorithm" data-rb-event-key="/algorithm" class="nav-link">数据结构和算法</a><a href="/comparison-note/basic-concept" data-rb-event-key="/basic-concept" class="nav-link">基础概念</a><a href="/comparison-note/data-type" data-rb-event-key="/data-type" class="nav-link">数据类型</a><a href="/comparison-note/special" data-rb-event-key="/special" class="nav-link">专题</a></div></div></nav><div style="padding-top:12px;padding-bottom:12px" class="container-fluid"><h1>数据类型转换</h1><div style="margin-bottom:12px"><div class="markdown-body"></div></div><div style="margin-bottom:12px" class="justify-content-md-center row"><div class="col-md-auto"><div role="toolbar" class="btn-toolbar"><div role="group" class="btn-group btn-group-sm btn-group-toggle"><label class="btn btn-secondary"><input type="checkbox" value="c" autoComplete="off"/>c</label><label class="btn btn-secondary"><input type="checkbox" value="dart" autoComplete="off"/>dart</label><label class="btn btn-secondary"><input type="checkbox" value="go" autoComplete="off"/>go</label><label class="btn btn-secondary"><input type="checkbox" value="js" autoComplete="off"/>js</label><label class="btn btn-secondary"><input type="checkbox" value="python" autoComplete="off"/>python</label><label class="btn btn-secondary"><input type="checkbox" value="rust" autoComplete="off"/>rust</label></div></div></div></div><div class="card-group"></div></div><div style="text-align:center;padding:12px 0;font-size:14px">v<!-- -->0.1.0<!-- --> <a href="https://github.com/fishjar/comparison-note" title="访问github源码">github</a></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"nav":{"name":"convert","fullPath":"/data-type/convert","asPath":"/data-type/convert","id":"%2Fdata-type%2Fconvert","parent":{"name":"data-type","fullPath":"/data-type","asPath":"/data-type","id":"%2Fdata-type","readme":{"title":"数据类型","fullPath":"/data-type/README.md"}},"readme":{"title":"数据类型转换","fullPath":"/data-type/convert/README.md"},"cards":[{"name":"c.md","baseName":"c","extName":".md","fullPath":"/data-type/convert/c.md"},{"name":"dart.md","baseName":"dart","extName":".md","fullPath":"/data-type/convert/dart.md"},{"name":"go.md","baseName":"go","extName":".md","fullPath":"/data-type/convert/go.md"},{"name":"js.md","baseName":"js","extName":".md","fullPath":"/data-type/convert/js.md"},{"name":"python.md","baseName":"python","extName":".md","fullPath":"/data-type/convert/python.md"},{"name":"rust.md","baseName":"rust","extName":".md","fullPath":"/data-type/convert/rust.md"}],"nodes":[]},"content":"","cards":[{"name":"c.md","baseName":"c","extName":".md","fullPath":"/data-type/convert/c.md","content":"## 类型的显示转换\n\n```c++\n// 将变量ch转成无符号的字符类型\n(unsigned char) ch;\n\n// (long int)将10显式转为long int类型。\n// 这里的显示转换其实是不必要的，因为赋值运算符会自动将右边的值，转为左边变量的类型。\nlong int y = (long int) 10 + 12;\n```"},{"name":"dart.md","baseName":"dart","extName":".md","fullPath":"/data-type/convert/dart.md","content":"```dart\nassert(int.parse('42') == 42);\nassert(int.parse('0x42') == 66);\nassert(double.parse('0.50') == 0.5);\n\nassert(num.parse('42') is int);\nassert(num.parse('0x42') is int);\nassert(num.parse('0.50') is double);\n\nassert(int.parse('42', radix: 16) == 66);\n\n// Convert an int to a string.\nassert(42.toString() == '42');\n// Convert a double to a string.\nassert(123.456.toString() == '123.456');\n// Specify the number of digits after the decimal.\nassert(123.456.toStringAsFixed(2) == '123.46');\n// Specify the number of significant figures.\nassert(123.456.toStringAsPrecision(2) == '1.2e+2');\nassert(double.parse('1.2e+2') == 120.0);\n```\n\n```dart\n// Convert an int to a string.\nassert(42.toString() == '42');\n// Convert a double to a string.\nassert(123.456.toString() == '123.456');\n// Specify the number of digits after the decimal.\nassert(123.456.toStringAsFixed(2) == '123.46');\n// Specify the number of significant figures.\nassert(123.456.toStringAsPrecision(2) == '1.2e+2');\n```\n\n```dart\nassert(int.parse('42') == 42);\nassert(int.parse('0x42') == 66);\nassert(double.parse('0.50') == 0.5);\n\nassert(num.parse('42') is int);\nassert(num.parse('0x42') is int);\nassert(num.parse('0.50') is double);\n\nassert(int.parse('42', radix: 16) == 66);\n```\n"},{"name":"go.md","baseName":"go","extName":".md","fullPath":"/data-type/convert/go.md","content":"字符串和字节 slice\n\n```go\ns := \"abc\"\nb := []byte(s)\ns2 := string(b)\n```\n\n字符串和数字\n\n```go\nx := 123\n\n// 一种方法是用fmt.Sprintf返回一个格式化的字符串\ny := fmt.Sprintf(\"%d\", x)\n\n// 另一个方法是用strconv.Itoa(“整数到ASCII”)\nfmt.Println(y, strconv.Itoa(x)) // \"123 123\"\n\n// 不同的进制来格式化数字\nfmt.Println(strconv.FormatInt(int64(x), 2)) // \"1111011\"\n\n// fmt.Printf函数的%b、%d、%o和%x等参数提供功能往往比strconv包的Format函数方便很多\ns := fmt.Sprintf(\"x=%b\", x) // \"x=1111011\"\n\n// 如果要将一个字符串解析为整数，可以使用strconv包的Atoi或ParseInt函数，\n// 还有用于解析无符号整数的ParseUint函数：\nx, err := strconv.Atoi(\"123\")             // x is an int\ny, err := strconv.ParseInt(\"123\", 10, 64) // base 10, up to 64 bits\n```\n\n表达式 `T(v)` 将值 v 转换为类型 T。\nGo 在不同类型的项之间赋值时需要显式转换。\n\n对于每一个类型 T，都有一个对应的类型转换操作`T(x)`，\n用于将 x 转为 T 类型（译注：如果 T 是指针类型，\n可能会需要用小括弧包装 T，比如`(*int)(0)`）。\n只有当两个类型的底层基础类型相同时，才允许这种转型操作，\n或者是两者都是指向相同底层结构的指针类型，\n这些转换只改变类型而不会影响值本身。\n如果 x 是可以赋值给 T 类型的值，那么 x 必然也可以被转为 T 类型，但是一般没有这个必要。\n\n```go\nvar i int = 42\nvar f float64 = float64(i)\nvar u uint = uint(f)\n\n// 或者，更加简单的形式：\ni := 42\nf := float64(i)\nu := uint(f)\n\n\n// 字符串和字节slice之间可以相互转换\ns := \"abc\"\nb := []byte(s)\ns2 := string(b)\n\n\n// 整数转为字符串\nx := 123\ny := fmt.Sprintf(\"%d\", x)\nfmt.Println(y, strconv.Itoa(x)) // \"123 123\"\nfmt.Println(strconv.FormatInt(int64(x), 2)) // \"1111011\"\ns := fmt.Sprintf(\"x=%b\", x) // \"x=1111011\"\n\n\n// 字符串解析为整数\n// 可以使用strconv包的Atoi或ParseInt函数，\n// 还有用于解析无符号整数的ParseUint函数：\nx, err := strconv.Atoi(\"123\")             // x is an int\ny, err := strconv.ParseInt(\"123\", 10, 64) // base 10, up to 64 bits\n```\n"},{"name":"js.md","baseName":"js","extName":".md","fullPath":"/data-type/convert/js.md","content":"```js\nparseInt(\"v8\", 32); // 1000\n\nconst string1 = \"1\";\nconst number1 = parseInt(string1);\nconsole.log(number1 + 2); // 3\n```\n\n```js\n// 小数点截取\n(10).toFixed(2); // \"10.00\"\n(10.005).toFixed(2); // \"10.01\"\n\n// 2\nconsole.log(Math.ceil(1.5));\n// 1\nconsole.log(Math.floor(1.5));\n// 2\nconsole.log(Math.round(1.5));\n```\n\n```js\n// 10进制转为32进制\n(1000).toString(32); // 'v8'\n// 32进制转为10进制\nparseInt(\"v8\", 32); // 1000\n```\n"},{"name":"python.md","baseName":"python","extName":".md","fullPath":"/data-type/convert/python.md","content":"```python\nstring_1 = \"1\"\nnumber_1 = int(string_1)\n# 3\nprint(number_1 + 2)\n```\n\n```python\nimport math\n\n# 2\nprint(math.ceil(1.5))\n# 1\nprint(math.floor(1.5))\n# 2\nprint(round(1.5))\n```\n"},{"name":"rust.md","baseName":"rust","extName":".md","fullPath":"/data-type/convert/rust.md","content":"```rust\nlet decimal = 65.4321_f32;\n// 可以显式转换\nlet integer = decimal as u8;\nlet character = integer as char;\n```\n\n## from\n\n```rust\nuse std::convert::From;\n\n#[derive(Debug)]\nstruct Number {\n    value: i32,\n}\n\nimpl From\u003ci32\u003e for Number {\n    fn from(item: i32) -\u003e Self {\n        Number { value: item }\n    }\n}\n\nfn main() {\n    let num = Number::from(30);\n    println!(\"My number is {:?}\", num);\n}\n```\n\n## into\n\n```rust\nuse std::convert::From;\n\n#[derive(Debug)]\nstruct Number {\n    value: i32,\n}\n\nimpl From\u003ci32\u003e for Number {\n    fn from(item: i32) -\u003e Self {\n        Number { value: item }\n    }\n}\n\nfn main() {\n    let int = 5;\n    // 试试删除类型说明\n    let num: Number = int.into();\n    println!(\"My number is {:?}\", num);\n}\n```\n\n## TryFrom and TryInto\n\n```rust\nuse std::convert::TryFrom;\nuse std::convert::TryInto;\n\n#[derive(Debug, PartialEq)]\nstruct EvenNumber(i32);\n\nimpl TryFrom\u003ci32\u003e for EvenNumber {\n    type Error = ();\n\n    fn try_from(value: i32) -\u003e Result\u003cSelf, Self::Error\u003e {\n        if value % 2 == 0 {\n            Ok(EvenNumber(value))\n        } else {\n            Err(())\n        }\n    }\n}\n\nfn main() {\n    // TryFrom\n\n    assert_eq!(EvenNumber::try_from(8), Ok(EvenNumber(8)));\n    assert_eq!(EvenNumber::try_from(5), Err(()));\n\n    // TryInto\n\n    let result: Result\u003cEvenNumber, ()\u003e = 8i32.try_into();\n    assert_eq!(result, Ok(EvenNumber(8)));\n    let result: Result\u003cEvenNumber, ()\u003e = 5i32.try_into();\n    assert_eq!(result, Err(()));\n}\n```\n\n## 解析字符串\n\n```rust\nfn main() {\n    let parsed: i32 = \"5\".parse().unwrap();\n    let turbo_parsed = \"10\".parse::\u003ci32\u003e().unwrap();\n\n    let sum = parsed + turbo_parsed;\n    println!{\"Sum: {:?}\", sum};\n}\n```\n"}]}},"page":"/[...param]","query":{"param":["data-type","convert"]},"buildId":"S-jJrz2DKYE9I2Mqo2Xou","assetPrefix":"/comparison-note","nextExport":true,"isFallback":false,"gip":true,"head":[["meta",{"name":"viewport","content":"width=device-width"}],["meta",{"charSet":"utf-8"}],["title",{"children":"数据类型转换"}]]}</script><script nomodule="" src="/comparison-note/_next/static/chunks/polyfills-7258ef49cf482e03ae9c.js"></script><script src="/comparison-note/_next/static/chunks/main-14614ae8e939b9e5961e.js" async=""></script><script src="/comparison-note/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" async=""></script><script src="/comparison-note/_next/static/chunks/framework.c7b20b4e446c7cca89e7.js" async=""></script><script src="/comparison-note/_next/static/chunks/7945cc82.ff5578978733a40a67a3.js" async=""></script><script src="/comparison-note/_next/static/chunks/commons.a32a113e095d8f0b1079.js" async=""></script><script src="/comparison-note/_next/static/chunks/pages/_app-1832d2b05f1f19d6a06d.js" async=""></script><script src="/comparison-note/_next/static/chunks/a1bc03cf.64f9f8493143216945e6.js" async=""></script><script src="/comparison-note/_next/static/chunks/4d6c67b811e74d3ca6630b1db854b02fef4ff3ce.8a4303f940dd12850a8f.js" async=""></script><script src="/comparison-note/_next/static/chunks/pages/%5B...param%5D-ec17b069b047a5ce78c3.js" async=""></script><script src="/comparison-note/_next/static/S-jJrz2DKYE9I2Mqo2Xou/_buildManifest.js" async=""></script><script src="/comparison-note/_next/static/S-jJrz2DKYE9I2Mqo2Xou/_ssgManifest.js" async=""></script></body></html>