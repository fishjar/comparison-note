<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>项目结构</title><link rel="preload" href="/comparison-note/_next/static/css/dc4eece8d63e31b4b040.css" as="style"/><link rel="stylesheet" href="/comparison-note/_next/static/css/dc4eece8d63e31b4b040.css" data-n-g=""/><link rel="preload" href="/comparison-note/_next/static/css/05437c60348a21355b6c.css" as="style"/><link rel="stylesheet" href="/comparison-note/_next/static/css/05437c60348a21355b6c.css" data-n-g=""/><noscript data-n-css="true"></noscript><link rel="preload" href="/comparison-note/_next/static/chunks/main-14614ae8e939b9e5961e.js" as="script"/><link rel="preload" href="/comparison-note/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" as="script"/><link rel="preload" href="/comparison-note/_next/static/chunks/framework.c7b20b4e446c7cca89e7.js" as="script"/><link rel="preload" href="/comparison-note/_next/static/chunks/7945cc82.ff5578978733a40a67a3.js" as="script"/><link rel="preload" href="/comparison-note/_next/static/chunks/commons.a32a113e095d8f0b1079.js" as="script"/><link rel="preload" href="/comparison-note/_next/static/chunks/pages/_app-1832d2b05f1f19d6a06d.js" as="script"/><link rel="preload" href="/comparison-note/_next/static/chunks/a1bc03cf.64f9f8493143216945e6.js" as="script"/><link rel="preload" href="/comparison-note/_next/static/chunks/4d6c67b811e74d3ca6630b1db854b02fef4ff3ce.8a4303f940dd12850a8f.js" as="script"/><link rel="preload" href="/comparison-note/_next/static/chunks/pages/%5B...param%5D-ec17b069b047a5ce78c3.js" as="script"/></head><body><div id="__next"><nav class="navbar navbar-expand-lg navbar-light bg-light"><a href="/comparison-note/" class="navbar-brand">对比学习笔记</a><button aria-controls="basic-navbar-nav" type="button" aria-label="Toggle navigation" class="navbar-toggler collapsed"><span class="navbar-toggler-icon"></span></button><div class="navbar-collapse collapse" id="basic-navbar-nav"><div class="mr-auto navbar-nav"><a href="/comparison-note/algorithm" data-rb-event-key="/algorithm" class="nav-link">数据结构和算法</a><a href="/comparison-note/basic-concept" data-rb-event-key="/basic-concept" class="nav-link">基础概念</a><a href="/comparison-note/data-type" data-rb-event-key="/data-type" class="nav-link">数据类型</a><a href="/comparison-note/special" data-rb-event-key="/special" class="nav-link">专题</a></div></div></nav><div style="padding-top:12px;padding-bottom:12px" class="container-fluid"><h1>项目结构</h1><div style="margin-bottom:12px"><div class="markdown-body"></div></div><div style="margin-bottom:12px" class="justify-content-md-center row"><div class="col-md-auto"><div role="toolbar" class="btn-toolbar"><div role="group" class="btn-group btn-group-sm btn-group-toggle"><label class="btn btn-secondary"><input type="checkbox" value="dart" autoComplete="off"/>dart</label><label class="btn btn-secondary"><input type="checkbox" value="go" autoComplete="off"/>go</label><label class="btn btn-secondary"><input type="checkbox" value="js" autoComplete="off"/>js</label><label class="btn btn-secondary"><input type="checkbox" value="python" autoComplete="off"/>python</label><label class="btn btn-secondary"><input type="checkbox" value="rust" autoComplete="off"/>rust</label></div></div></div></div><div class="card-group"></div></div><div style="text-align:center;padding:12px 0;font-size:14px">v<!-- -->0.1.0<!-- --> <a href="https://github.com/fishjar/comparison-note" title="访问github源码">github</a></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"nav":{"name":"lib-dir","fullPath":"/basic-concept/lib/lib-dir","asPath":"/basic-concept/lib/lib-dir","id":"%2Fbasic-concept%2Flib%2Flib-dir","parent":{"name":"lib","fullPath":"/basic-concept/lib","asPath":"/basic-concept/lib","id":"%2Fbasic-concept%2Flib","readme":{"title":"库/包/模块","fullPath":"/basic-concept/lib/README.md"}},"readme":{"title":"项目结构","fullPath":"/basic-concept/lib/lib-dir/README.md"},"cards":[{"name":"dart.md","baseName":"dart","extName":".md","fullPath":"/basic-concept/lib/lib-dir/dart.md"},{"name":"go.md","baseName":"go","extName":".md","fullPath":"/basic-concept/lib/lib-dir/go.md"},{"name":"js.md","baseName":"js","extName":".md","fullPath":"/basic-concept/lib/lib-dir/js.md"},{"name":"python.md","baseName":"python","extName":".md","fullPath":"/basic-concept/lib/lib-dir/python.md"},{"name":"rust.md","baseName":"rust","extName":".md","fullPath":"/basic-concept/lib/lib-dir/rust.md"}],"nodes":[]},"content":"","cards":[{"name":"dart.md","baseName":"dart","extName":".md","fullPath":"/basic-concept/lib/lib-dir/dart.md","content":"库包的代码位于 lib 目录中， 在其他包中可以访问这里面的代码。\n在 lib 目录下可以创建任意的目录结构。\n通常情况下都把实现代码放到 lib/src 目录中。\n位于 lib/src 下面的代码被认为是私有的；\n其他包不应该直接导入 src/... 里面的代码。\n要分享 lib/src 下的 API，你可以在 lib 目录下 创建一个文件，\n在这个文件中导入 lib/src 中的代码。\n\n最简单的库包的 目录结构\n\n![最简单的库包的 目录结构](../../../images/simple-lib2-81ebdc20fdb53d3abbc4364956141eb0f6f8f275d1636064fc3e1db959b93c1a.png)\n\nshelf 库的目录结构\n\n![shelf 库的目录结构](../../../images/shelf-02e5fd43b660fcef7dbe6a883c40159e0379c8ee2088288ca60ed7dc8781bafd.png)\n\n在 lib 和 web 库中如何导入 lib/src/foo/a.dart\n\n![在 lib 和 web 库中如何导入 lib/src/foo/a.dart ](../../../images/import-lib-rules-fa353f6fddc6e69fe19da41bffff4f6ec7b561eeead24840bacce032759b8473.png)\n"},{"name":"go.md","baseName":"go","extName":".md","fullPath":"/basic-concept/lib/lib-dir/go.md","content":"Go 代码必须放在工作空间内。它其实就是一个目录，其中包含三个子目录：\n\n- src 目录包含 Go 的源文件，它们被组织成包（每个目录都对应一个包），\n- pkg 目录包含包对象，\n- bin 目录包含可执行命令。\n\ngo 工具用于构建源码包，并将其生成的二进制文件安装到 pkg 和 bin 目录中。\nsrc 子目录通常包会含多种版本控制的代码仓库（例如 Git 或 Mercurial）， 以此来跟踪一个或多个源码包的开发。\n\n```sh\n# 此工作空间包含三个代码库（goauth2、streak 和 todo），\n# 两个命令（streak 和 todo） 以及两个库（oauth 和 task）。\nbin/\n  streak                         # 可执行命令\n  todo                           # 可执行命令\npkg/\n  linux_amd64/\n    code.google.com/p/goauth2/\n      oauth.a                # 包对象\n    github.com/nf/todo/\n      task.a                 # 包对象\nsrc/\n  code.google.com/p/goauth2/\n    .hg/                       # mercurial 代码库元数据\n    oauth/\n      oauth.go               # 包源码\n      oauth_test.go          # 测试源码\n  github.com/nf/\n    streak/\n      .git/                      # git 代码库元数据\n      oauth.go               # 命令源码\n      streak.go              # 命令源码\n    todo/\n      .git/                      # git 代码库元数据\n      task/\n        task.go            # 包源码\n      todo.go                # 命令源码\n```\n\n```go\n// hello.go\npackage main\nimport (\n  \"fmt\"\n  \"github.com/user/stringutil\"\n)\nfunc main() {\n  fmt.Printf(stringutil.Reverse(\"!oG ,olleH\"))\n}\n\n// reverse.go\n// stringutil 包含有用于处理字符串的工具函数。\npackage stringutil\n// Reverse 将其实参字符串以符文为单位左右反转。\nfunc Reverse(s string) string {\n  r := []rune(s)\n  for i, j := 0, len(r)-1; i \u003c len(r)/2; i, j = i+1, j-1 {\n    r[i], r[j] = r[j], r[i]\n  }\n  return string(r)\n}\n```\n\n```sh\n# 你的第一个程序\nbin/\n  hello                 # 可执行命令\npkg/\n  linux_amd64/          # 这里会反映出你的操作系统和架构\n    github.com/user/\n      stringutil.a  # 包对象\nsrc/\n  github.com/user/\n    hello/\n      hello.go      # 命令源码\n    stringutil/\n      reverse.go       # 包源码\n\n\n# 创建目录\nmkdir $GOPATH/src/github.com/user/hello\n\n# 用 go build 命令来测试该包\n# 它会将包的对象放到工作空间的 pkg 目录中\n# 这不会产生输出文件。想要输出的话，必须使用 go install 命令\ngo build github.com/user/stringutil\n# 若你在该包的源码目录中，只需执行\ngo build\n\n# 用 go 工具构建并安装此程序\n# 此命令会构建 hello 命令，产生一个可执行的二进制文件。\n# 接着它会将该二进制文件作为 hello（在 Windows 下则为 hello.exe）安装到工作空间的 bin 目录中。\n# go 工具只有在发生错误时才会打印输出\ngo install github.com/user/hello\n# 或者\ncd $GOPATH/src/github.com/user/hello\ngo install\n\n# 现在，你可以在命令行下输入它的完整路径来运行它了：\n$GOPATH/bin/hello\n# 若你已经将 $GOPATH/bin 添加到 PATH 中了\nhello\n```\n\n```sh\nbin/\n    hello                          # command executable\n    outyet                         # command executable\nsrc/\n    github.com/golang/example/\n        .git/                      # Git repository metadata\n  hello/\n      hello.go               # command source\n  outyet/\n      main.go                # command source\n      main_test.go           # test source\n  stringutil/\n      reverse.go             # package source\n      reverse_test.go        # test source\n    golang.org/x/image/\n        .git/                      # Git repository metadata\n  bmp/\n      reader.go              # package source\n      writer.go              # package source\n    ... (many more repositories and packages omitted) ...\n```\n"},{"name":"js.md","baseName":"js","extName":".md","fullPath":"/basic-concept/lib/lib-dir/js.md","content":"常见包结构\n\n```sh\n├── root\n│   ├── src\n│   ├── lib\n│   ├── dist\n│   ├── node_modules\n│   ├── package.json\n```\n"},{"name":"python.md","baseName":"python","extName":".md","fullPath":"/basic-concept/lib/lib-dir/python.md","content":"```sh\nsound/                          Top-level package\n      __init__.py               Initialize the sound package\n      formats/                  Subpackage for file format conversions\n              __init__.py\n              wavread.py\n              wavwrite.py\n              aiffread.py\n              aiffwrite.py\n              auread.py\n              auwrite.py\n              ...\n      effects/                  Subpackage for sound effects\n              __init__.py\n              echo.py\n              surround.py\n              reverse.py\n              ...\n      filters/                  Subpackage for filters\n              __init__.py\n              equalizer.py\n              vocoder.py\n              karaoke.py\n              ...\n```\n\n```python\n# 包的用户可以从包中导入单个模块，例如:\nimport sound.effects.echo\nsound.effects.echo.echofilter(input, output, delay=0.7, atten=4)\n\n# 导入子模块的另一种方法是\nfrom sound.effects import echo\necho.echofilter(input, output, delay=0.7, atten=4)\n\n# 另一种形式是直接导入所需的函数或变量:\nfrom sound.effects.echo import echofilter\nechofilter(input, output, delay=0.7, atten=4)\n\n# 文件 sound/effects/__init__.py 可以包含以下代码:\n__all__ = [\"echo\", \"surround\", \"reverse\"]\n# 当用户写\nfrom sound.effects import *\n# 意味着 from sound.effects import * 将导入 sound 包的三个命名子模块\n```\n"},{"name":"rust.md","baseName":"rust","extName":".md","fullPath":"/basic-concept/lib/lib-dir/rust.md","content":"Cargo 推荐的目录结构\n\n- `Cargo.toml` 和 `Cargo.lock` 保存在 `package` 根目录下\n- 源代码放在 `src` 目录下\n- 默认的 `lib` 包根是 `src/lib.rs`\n- 默认的二进制包根是 `src/main.rs`\n- 其它二进制包根放在 `src/bin/` 目录下\n  - 为了使得 cargo 编译或运行这个二进制可执行文件而不是默认或其他二进制可执行文件，\n  - 我们只需给 cargo 增加一个参数 `--bin my_other_bin`\n- 基准测试 `benchmark` 放在 `benches` 目录下\n- 示例代码放在 `examples` 目录下\n- 集成测试代码放在 `tests` 目录下\n\n```\n.\n├── Cargo.lock\n├── Cargo.toml\n├── src/\n│   ├── lib.rs\n│   ├── main.rs\n│   └── bin/\n│       ├── named-executable.rs\n│       ├── another-executable.rs\n│       └── multi-file-executable/\n│           ├── main.rs\n│           └── some_module.rs\n├── benches/\n│   ├── large-input.rs\n│   └── multi-file-bench/\n│       ├── main.rs\n│       └── bench_module.rs\n├── examples/\n│   ├── simple.rs\n│   └── multi-file-example/\n│       ├── main.rs\n│       └── ex_module.rs\n└── tests/\n    ├── some-integration-tests.rs\n    └── multi-file-test/\n        ├── main.rs\n        └── test_module.rs\n```\n\n## mod\n\n### 单文件内\n\n```rust\nfn function() {\n    println!(\"called `function()`\");\n}\nmod cool {\n    pub fn function() {\n        println!(\"called `cool::function()`\");\n    }\n}\nmod my {\n    fn function() {\n        println!(\"called `my::function()`\");\n    }\n    mod cool {\n        pub fn function() {\n            println!(\"called `my::cool::function()`\");\n        }\n    }\n    pub fn indirect_call() {\n        // 让我们从这个作用域中访问所有名为 `function` 的函数！\n        print!(\"called `my::indirect_call()`, that\\n\u003e \");\n        // `self` 关键字表示当前的模块作用域——在这个例子是 `my`。\n        // 调用 `self::function()` 和直接调用 `function()` 都得到相同的结果，\n        // 因为他们表示相同的函数。\n        self::function();\n        function();\n        // 我们也可以使用 `self` 来访问 `my` 内部的另一个模块：\n        self::cool::function();\n        // `super` 关键字表示父作用域（在 `my` 模块外面）。\n        super::function();\n        // 这将在 *crate* 作用域内绑定 `cool::function` 。\n        // 在这个例子中，crate 作用域是最外面的作用域。\n        {\n            use crate::cool::function as root_function;\n            root_function();\n        }\n    }\n}\n\nfn main() {\n    my::indirect_call();\n}\n```\n\n### 文件分层\n\n```sh\n.\n|-- my\n|   |-- inaccessible.rs\n|   |-- mod.rs\n|   `-- nested.rs\n`-- split.rs\n```\n\n```rust\n// split.rs\n// 此声明将会查找名为 `my.rs` 或 `my/mod.rs` 的文件，并将该文件的内容放到\n// 此作用域中一个名为 `my` 的模块里面。\nmod my;\nfn function() {\n    println!(\"called `function()`\");\n}\nfn main() {\n    my::function();\n    function();\n    my::indirect_access();\n    my::nested::function();\n}\n```\n\n```rust\n// my/mod.rs\n// 类似地，`mod inaccessible` 和 `mod nested` 将找到 `nested.rs` 和\n// `inaccessible.rs` 文件，并在它们放到各自的模块中。\nmod inaccessible;\npub mod nested;\npub fn function() {\n    println!(\"called `my::function()`\");\n}\nfn private_function() {\n    println!(\"called `my::private_function()`\");\n}\npub fn indirect_access() {\n    print!(\"called `my::indirect_access()`, that\\n\u003e \");\n    private_function();\n}\n```\n\n```rust\n// my/nested.rs\npub fn function() {\n    println!(\"called `my::nested::function()`\");\n}\n#[allow(dead_code)]\nfn private_function() {\n    println!(\"called `my::nested::private_function()`\");\n}\n```\n\n```rust\n// my/inaccessible.rs\n#[allow(dead_code)]\npub fn public_function() {\n    println!(\"called `my::inaccessible::public_function()`\");\n}\n```\n"}]}},"page":"/[...param]","query":{"param":["basic-concept","lib","lib-dir"]},"buildId":"S-jJrz2DKYE9I2Mqo2Xou","assetPrefix":"/comparison-note","nextExport":true,"isFallback":false,"gip":true,"head":[["meta",{"name":"viewport","content":"width=device-width"}],["meta",{"charSet":"utf-8"}],["title",{"children":"项目结构"}]]}</script><script nomodule="" src="/comparison-note/_next/static/chunks/polyfills-7258ef49cf482e03ae9c.js"></script><script src="/comparison-note/_next/static/chunks/main-14614ae8e939b9e5961e.js" async=""></script><script src="/comparison-note/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" async=""></script><script src="/comparison-note/_next/static/chunks/framework.c7b20b4e446c7cca89e7.js" async=""></script><script src="/comparison-note/_next/static/chunks/7945cc82.ff5578978733a40a67a3.js" async=""></script><script src="/comparison-note/_next/static/chunks/commons.a32a113e095d8f0b1079.js" async=""></script><script src="/comparison-note/_next/static/chunks/pages/_app-1832d2b05f1f19d6a06d.js" async=""></script><script src="/comparison-note/_next/static/chunks/a1bc03cf.64f9f8493143216945e6.js" async=""></script><script src="/comparison-note/_next/static/chunks/4d6c67b811e74d3ca6630b1db854b02fef4ff3ce.8a4303f940dd12850a8f.js" async=""></script><script src="/comparison-note/_next/static/chunks/pages/%5B...param%5D-ec17b069b047a5ce78c3.js" async=""></script><script src="/comparison-note/_next/static/S-jJrz2DKYE9I2Mqo2Xou/_buildManifest.js" async=""></script><script src="/comparison-note/_next/static/S-jJrz2DKYE9I2Mqo2Xou/_ssgManifest.js" async=""></script></body></html>