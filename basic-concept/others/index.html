<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>特殊语法</title><link rel="preload" href="/comparison-note/_next/static/css/dc4eece8d63e31b4b040.css" as="style"/><link rel="stylesheet" href="/comparison-note/_next/static/css/dc4eece8d63e31b4b040.css" data-n-g=""/><link rel="preload" href="/comparison-note/_next/static/css/05437c60348a21355b6c.css" as="style"/><link rel="stylesheet" href="/comparison-note/_next/static/css/05437c60348a21355b6c.css" data-n-g=""/><noscript data-n-css="true"></noscript><link rel="preload" href="/comparison-note/_next/static/chunks/main-14614ae8e939b9e5961e.js" as="script"/><link rel="preload" href="/comparison-note/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" as="script"/><link rel="preload" href="/comparison-note/_next/static/chunks/framework.c7b20b4e446c7cca89e7.js" as="script"/><link rel="preload" href="/comparison-note/_next/static/chunks/7945cc82.ff5578978733a40a67a3.js" as="script"/><link rel="preload" href="/comparison-note/_next/static/chunks/commons.a32a113e095d8f0b1079.js" as="script"/><link rel="preload" href="/comparison-note/_next/static/chunks/pages/_app-1832d2b05f1f19d6a06d.js" as="script"/><link rel="preload" href="/comparison-note/_next/static/chunks/a1bc03cf.64f9f8493143216945e6.js" as="script"/><link rel="preload" href="/comparison-note/_next/static/chunks/4d6c67b811e74d3ca6630b1db854b02fef4ff3ce.8a4303f940dd12850a8f.js" as="script"/><link rel="preload" href="/comparison-note/_next/static/chunks/pages/%5B...param%5D-ec17b069b047a5ce78c3.js" as="script"/></head><body><div id="__next"><nav class="navbar navbar-expand-lg navbar-light bg-light"><a href="/comparison-note/" class="navbar-brand">对比学习笔记</a><button aria-controls="basic-navbar-nav" type="button" aria-label="Toggle navigation" class="navbar-toggler collapsed"><span class="navbar-toggler-icon"></span></button><div class="navbar-collapse collapse" id="basic-navbar-nav"><div class="mr-auto navbar-nav"><a href="/comparison-note/algorithm" data-rb-event-key="/algorithm" class="nav-link">数据结构和算法</a><a href="/comparison-note/basic-concept" data-rb-event-key="/basic-concept" class="nav-link">基础概念</a><a href="/comparison-note/data-type" data-rb-event-key="/data-type" class="nav-link">数据类型</a><a href="/comparison-note/special" data-rb-event-key="/special" class="nav-link">专题</a></div></div></nav><div style="padding-top:12px;padding-bottom:12px" class="container-fluid"><h1>特殊语法</h1><div style="margin-bottom:12px"><div class="markdown-body"></div></div><div style="margin-bottom:12px" class="justify-content-md-center row"><div class="col-md-auto"><div role="toolbar" class="btn-toolbar"><div role="group" class="btn-group btn-group-sm btn-group-toggle"><label class="btn btn-secondary"><input type="checkbox" value="go" autoComplete="off"/>go</label><label class="btn btn-secondary"><input type="checkbox" value="python" autoComplete="off"/>python</label></div></div></div></div><div class="card-group"></div></div><div style="text-align:center;padding:12px 0;font-size:14px">v<!-- -->0.1.0<!-- --> <a href="https://github.com/fishjar/comparison-note" title="访问github源码">github</a></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"nav":{"name":"others","fullPath":"/basic-concept/others","asPath":"/basic-concept/others","id":"%2Fbasic-concept%2Fothers","parent":{"name":"basic-concept","fullPath":"/basic-concept","asPath":"/basic-concept","id":"%2Fbasic-concept","readme":{"title":"基础概念","fullPath":"/basic-concept/README.md"}},"readme":{"title":"特殊语法","fullPath":"/basic-concept/others/README.md"},"cards":[{"name":"go.md","baseName":"go","extName":".md","fullPath":"/basic-concept/others/go.md"},{"name":"python.md","baseName":"python","extName":".md","fullPath":"/basic-concept/others/python.md"}],"nodes":[]},"content":"","cards":[{"name":"go.md","baseName":"go","extName":".md","fullPath":"/basic-concept/others/go.md","content":"## defer\n\ndefer 语句会将函数推迟到外层函数返回之后执行。\n推迟调用的函数其参数会立即求值，\n但直到外层函数返回前该函数都不会被调用。\n\n推迟的函数调用会被压入一个栈中。\n当外层函数返回时，被推迟的函数会按照后进先出的顺序调用。\n\ndefer 语句经常被用于处理成对的操作，\n如打开、关闭、连接、断开连接、加锁、释放锁。通过 defer 机制\n\n```go\npackage main\nimport \"fmt\"\nfunc main() {\n  defer fmt.Println(\"world\")\n  fmt.Println(\"hello\")\n}\n// hello\n// world\n\n\n// defer 栈\npackage main\nimport \"fmt\"\nfunc main() {\n  fmt.Println(\"counting\")\n  for i := 0; i \u003c 10; i++ {\n    defer fmt.Println(i)\n  }\n  fmt.Println(\"done\")\n}\n// counting\n// done\n// 9\n// 8\n// 7\n// 6\n// 5\n// 4\n// 3\n// 2\n// 1\n// 0\n\n\n// Contents 将文件的内容作为字符串返回。\nfunc Contents(filename string) (string, error) {\n  f, err := os.Open(filename)\n  if err != nil {\n    return \"\", err\n  }\n  defer f.Close()  // f.Close 会在我们结束后运行。\n\n  var result []byte\n  buf := make([]byte, 100)\n  for {\n    n, err := f.Read(buf[0:])\n    result = append(result, buf[0:n]...) // append 将在后面讨论。\n    if err != nil {\n      if err == io.EOF {\n        break\n      }\n      return \"\", err  // 我们在这里返回后，f 就会被关闭。\n    }\n  }\n  return string(result), nil // 我们在这里返回后，f 就会被关闭。\n}\n\n\n// 对匿名函数采用defer机制，可以使其观察函数的返回值。\nfunc double(x int) (result int) {\n  defer func() { fmt.Printf(\"double(%d) = %d\\n\", x,result) }()\n  return x + x\n}\n_ = double(4)\n// Output:\n// \"double(4) = 8\"\n\n\n// 被延迟执行的匿名函数甚至可以修改函数返回给调用者的返回值：\nfunc triple(x int) (result int) {\n  defer func() { result += x }()\n  return double(x)\n}\nfmt.Println(triple(4)) // \"12\"\n```\n"},{"name":"python.md","baseName":"python","extName":".md","fullPath":"/basic-concept/others/python.md","content":"## pass\n\n```python\nwhile True:\n    pass  # Busy-wait for keyboard interrupt (Ctrl+C)\n\nclass MyEmptyClass:\n    pass\n\ndef initlog(*args):\n    pass   # Remember to implement this!\n```\n"}]}},"page":"/[...param]","query":{"param":["basic-concept","others"]},"buildId":"S-jJrz2DKYE9I2Mqo2Xou","assetPrefix":"/comparison-note","nextExport":true,"isFallback":false,"gip":true,"head":[["meta",{"name":"viewport","content":"width=device-width"}],["meta",{"charSet":"utf-8"}],["title",{"children":"特殊语法"}]]}</script><script nomodule="" src="/comparison-note/_next/static/chunks/polyfills-7258ef49cf482e03ae9c.js"></script><script src="/comparison-note/_next/static/chunks/main-14614ae8e939b9e5961e.js" async=""></script><script src="/comparison-note/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" async=""></script><script src="/comparison-note/_next/static/chunks/framework.c7b20b4e446c7cca89e7.js" async=""></script><script src="/comparison-note/_next/static/chunks/7945cc82.ff5578978733a40a67a3.js" async=""></script><script src="/comparison-note/_next/static/chunks/commons.a32a113e095d8f0b1079.js" async=""></script><script src="/comparison-note/_next/static/chunks/pages/_app-1832d2b05f1f19d6a06d.js" async=""></script><script src="/comparison-note/_next/static/chunks/a1bc03cf.64f9f8493143216945e6.js" async=""></script><script src="/comparison-note/_next/static/chunks/4d6c67b811e74d3ca6630b1db854b02fef4ff3ce.8a4303f940dd12850a8f.js" async=""></script><script src="/comparison-note/_next/static/chunks/pages/%5B...param%5D-ec17b069b047a5ce78c3.js" async=""></script><script src="/comparison-note/_next/static/S-jJrz2DKYE9I2Mqo2Xou/_buildManifest.js" async=""></script><script src="/comparison-note/_next/static/S-jJrz2DKYE9I2Mqo2Xou/_ssgManifest.js" async=""></script></body></html>